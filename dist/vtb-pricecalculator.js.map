{"version":3,"file":"vtb-pricecalculator.js","sourceRoot":"","sources":["../src/vtb-pricecalculator.ts"],"names":[],"mappings":"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","sourcesContent":["import {LitElement, html, css} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport {TemplateResult} from 'lit-element';\n// import {styleMap, StyleInfo} from 'lit/directives/style-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\nexport enum VtbSegmentTypes {\n  DESTINATION = 1,\n  FLIGHT = 2,\n  ADDITIONAL = 3,\n  HIDDEN = 4,\n}\n\nexport enum VtbUnitTypes {\n  ACCO = 2,\n  TRANSPORT = 4,\n  TRANSFER = 5,\n  CARRENTAL = 6,\n  SURCHARGE = 11,\n}\n\nexport class VtbPriceCalculatorDataPriceElement {\n  title?: string;\n  price = 0.0;\n  optional = false;\n  nights = 0;\n  hidden = false;\n}\n\nexport class VtbPriceCalculatorDataPriceList {\n  title?: string;\n  total = 0.0;\n  displayPrices = false;\n  displayPricesIfZero = false;\n\n  private _elements: Array<VtbPriceCalculatorDataPriceElement>;\n\n  constructor() {\n    this._elements = [];\n    this.title = '';\n  }\n\n  addElement(element: VtbPriceCalculatorDataPriceElement) {\n    this._elements?.push(element);\n\n    if (!element.optional) {\n      this.total += element.price;\n    }\n\n    return this;\n  }\n\n  getElements() {\n    return this._elements;\n  }\n}\n\nexport class VtbPriceCalculatorData {\n  elements: VtbPriceCalculatorDataPriceList;\n  optionals: VtbPriceCalculatorDataPriceList;\n  surcharges: VtbPriceCalculatorDataPriceList;\n  per_participant: Array<VtbPriceCalculatorDataPriceList>;\n\n  constructor() {\n    this.elements = new VtbPriceCalculatorDataPriceList();\n    this.optionals = new VtbPriceCalculatorDataPriceList();\n    this.surcharges = new VtbPriceCalculatorDataPriceList();\n    this.per_participant = [];\n  }\n\n  getTotalPrice() {\n    let totals = 0.0;\n    if (this.elements) {\n      totals += this.elements.total;\n    }\n\n    if (this.surcharges) {\n      totals += this.surcharges.total;\n    }\n\n    return totals;\n  }\n}\n\nexport class VtbPriceCalculatorDataTransformer {\n  load(vtbSrcData: any) {  // eslint-disable-line @typescript-eslint/no-explicit-any\n    const _data = new VtbPriceCalculatorData();\n\n    for (const segment of vtbSrcData.segments) {\n      for (const element of segment.elements) {\n        const _element:VtbPriceCalculatorDataPriceElement =\n            this.parseVtbElement(element);\n\n        if (\n          segment.typeId == VtbSegmentTypes.DESTINATION ||\n          segment.typeId == VtbSegmentTypes.FLIGHT\n        ) {\n          if (_element.optional) {\n            _data.optionals?.addElement(_element);\n          } else {\n            _data.elements?.addElement(_element);\n          }\n        }\n        if (\n          segment.typeId == VtbSegmentTypes.ADDITIONAL ||\n          segment.typeId == VtbSegmentTypes.HIDDEN\n        ) {\n          _element.hidden = segment.typeId == VtbSegmentTypes.HIDDEN;\n\n          _data.surcharges?.addElement(_element);\n        }\n      }\n    }\n\n    return _data;\n  }\n\n  protected parseVtbElement(element: any) {  // eslint-disable-line @typescript-eslint/no-explicit-any\n    const _element = new VtbPriceCalculatorDataPriceElement();\n    _element.title = element.title;\n    _element.optional = element.optional;\n    _element.price = parseFloat(element.olPrices.salesTotal || 0);\n    _element.nights = element.flexNights || element.nights;\n\n    return _element;\n  }\n}\n\n@customElement('vtb-pricecalculator-element')\nexport class VtbPriceCalculatorElement extends LitElement {\n  static override styles = css`\n    .price-calculator-element:after {\n      content: '';\n      display: block;\n      clear: both;\n    }\n\n    .price-calculator-element > div {\n      float: left;\n    }\n\n    .description {\n      width: 70%;\n    }\n\n    .price {\n      width: 30%;\n      text-align: right;\n    }\n\n    h3 {\n      display: block;\n    }\n  `;\n\n  @property({type: String})\n  locale = 'nl-NL';\n\n  @property({type: String})\n  currency = 'EUR';\n\n  @property({type: Number})\n  price = 0;\n\n  @property({type: String, attribute: 'price-type'})\n  priceType = 'pp';\n\n  @property({\n    type: String,\n    attribute: 'display-price',\n    converter: (value, _type) => {\n      if (typeof value == 'string' && value == 'true') {\n        return true;\n      }\n\n      if (typeof value == 'string' && value == 'false') {\n        return false;\n      }\n\n      if (typeof value == 'boolean') {\n        return value;\n      }\n\n      if (value) {\n        return value.toString();\n      }\n\n      return false;\n    },\n  })\n  displayPrice: boolean | string = false;\n\n  @property({\n    type: Boolean,\n    attribute: 'display-zero',\n    converter: (value, _type) => {\n      if (typeof value == 'string' && value == 'true') {\n        return true;\n      }\n\n      if (typeof value == 'string' && value == 'false') {\n        return false;\n      }\n\n      if (typeof value == 'boolean') {\n        return value;\n      }\n\n      if (value) {\n        return true;\n      }\n\n      return false;\n    },\n  })\n  displayPricesIfZero = false;\n\n  override render() {\n    const priceRenderer = new Intl.NumberFormat(this.locale, {\n      style: 'currency',\n      currency: this.currency,\n    });\n\n    let priceDisplay = '';\n    if (this.displayPrice && typeof this.displayPrice == 'boolean') {\n      priceDisplay = priceRenderer.format(this.price) as string;\n    }\n\n    if (!this.displayPrice && typeof this.displayPrice == 'boolean') {\n      priceDisplay = '';\n    }\n\n    if (this.displayPrice && typeof this.displayPrice == 'string') {\n      priceDisplay = this.displayPrice;\n    }\n\n    if (\n      this.displayPrice &&\n      typeof this.displayPrice == 'boolean' &&\n      this.price == 0 &&\n      !this.displayPricesIfZero\n    ) {\n      priceDisplay = '';\n    }\n\n    return html`\n      <div class=\"price-calculator-element\">\n        <div class=\"description\">\n          <slot></slot>\n        </div>\n        <div class=\"price\">${priceDisplay} &nbsp;</div>\n      </div>\n    `;\n  }\n}\n\n@customElement('vtb-pricecalculator-list')\nexport class VtbPriceCalculatorElementList extends LitElement {\n  static override styles = css`\n    :host {\n      display: block;\n    }\n  `;\n\n  @property({type: Boolean, attribute: 'calculate-totals'})\n  calculateTotals = false;\n\n  @property({type: Boolean, attribute: 'display-totals'})\n  displayTotals = false;\n\n  @property({type: Boolean, attribute: false})\n  displayPrices = false;\n\n  @property({type: Boolean, attribute: 'display-zero'})\n  displayPricesIfZero = false;\n\n  @property({type: String})\n  locale = 'nl-NL';\n\n  @property({type: String})\n  currency = 'EUR';\n\n  @property({type: Number, attribute: 'total-price'})\n  totalPrice = 0;\n\n  override render() {\n    return html`\n      <div class=\"price-calculator-element-list\">\n        <h3>${this.title}</h3>\n        <div class=\"\">\n          <slot></slot>\n        </div>\n      </div>\n    `;\n  }\n}\n\n@customElement('vtb-pricecalculator')\nexport class VtbPriceCalculator extends LitElement {\n  static override styles = css`\n    :host {\n      display: block;\n    }\n\n    .price-calculator-totals {\n      font-weight: bold;\n      font-size: 110%;\n      border-top: 1px solid #444;\n      margin-top: 1rem;\n      padding-top: 1rem;\n    }\n  `;\n\n  @property({type: Boolean, attribute: 'calculate-totals'})\n  calculateTotals = false;\n\n  @property({type: Boolean, attribute: 'display-totals'})\n  displayTotals = false;\n\n  @property({type: String})\n  locale = 'nl-NL';\n\n  @property({type: String})\n  currency = 'EUR';\n\n  @property({type: Number, attribute: 'total-price'})\n  totalPrice = 0;\n\n  @property({type: String, attribute: false})\n  customStyles = '';\n\n  @property({type: Object, attribute: false})\n  priceData?: VtbPriceCalculatorData;\n\n  @property({type: Array, attribute: false})\n  groups = ['elements', 'surcharges', 'optionals'];\n\n  @property({type: Boolean, attribute: false})\n  showPerParticipant = false;\n\n  override render() {\n    let _innerHTML: string | TemplateResult = '';\n\n    if (this.children.length == 0 && this.priceData) {\n      _innerHTML = this._renderPriceData();\n    }\n\n    let customStyles;\n    if (this.customStyles) {\n      customStyles = html`\n                <style type=text/css>${this.customStyles}</style>\n            `;\n    }\n\n    return html`\n      ${customStyles}\n      <div class=\"price-calculator\">\n        <slot>${_innerHTML}</slot>\n        ${this.renderTotals()}\n      </div>\n    `;\n  }\n\n  private renderTotals() {\n    if (this.displayTotals) {\n      return html`\n        <div class=\"price-calculator-totals\">\n          <vtb-pricecalculator-element\n            price=${this.totalPrice}\n            currency=${this.currency}\n            locale=${this.locale}\n            display-price=\"true\"\n          >\n            Totaal\n          </vtb-pricecalculator-element>\n        </div>\n      `;\n    }\n    return '';\n  }\n\n  private _renderPriceList(priceList: VtbPriceCalculatorDataPriceList) {\n    const elementTemplates: Array<TemplateResult> = [];\n\n    for (const element of priceList.getElements()) {\n      if (element.hidden) {\n        continue;\n      }\n\n      elementTemplates.push(\n        html`\n          <vtb-pricecalculator-element\n            price=${element.price}\n            currency=${this.currency}\n            price-type=\"\"\n            display-price=${ifDefined(priceList.displayPrices)}\n            display-zero=${ifDefined(priceList.displayPricesIfZero)}\n          >\n            ${element.title}\n          </vtb-pricecalculator-element>\n        `\n      );\n    }\n\n    return elementTemplates;\n  }\n\n  private _renderPriceData() {\n    const priceData = this.priceData as VtbPriceCalculatorData;\n    const listTemplates: Array<TemplateResult> = [];\n    type ObjectKey = keyof typeof priceData;\n\n    for (const group of this.groups) {\n      const _group = group as ObjectKey;\n      const priceList = priceData[_group] as VtbPriceCalculatorDataPriceList;\n\n      listTemplates.push(\n        html`\n          <vtb-pricecalculator-list\n            title=${ifDefined(priceList.title)}\n          >\n            ${this._renderPriceList(priceList)}\n          </vtb-pricecalculator-list>\n        `\n      );\n    }\n\n    // if (this.showPerParticipant) {\n    //     for (const participantPriceLists of this.per_participant) {\n\n    //     }\n    // }\n\n    this.totalPrice = priceData.getTotalPrice();\n\n    return html`${listTemplates}`;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'vtb-pricecalculator': VtbPriceCalculator;\n    'vtb-pricecalculator-list': VtbPriceCalculatorElementList;\n    'vtb-pricecalculator-element': VtbPriceCalculatorElement;\n  }\n}\n"]}